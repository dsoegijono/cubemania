<div id="porno">
  <section id="timer">
    <small class="scramble"><%=fs @scramble %></small>
    <div class="time"><%=ft 0 %></div>
    <%= semantic_form_for Single.new, :url => puzzle_timers_path(@puzzle), :remote => true do |form| %>
      <%= form.inputs do %>
        <%= form.input :human_time, :label => 'Time', :input_html => { :value => "", :autocomplete => "off" } %>
        <%= form.input :time, :as => :hidden %>
        <%= form.input :scramble, :as => :hidden, :value => @scramble %>
      <% end %>
      <%= form.buttons do %>
        <%= form.commit_button 'Submit' %>
      <% end %>
    <% end %>
    <%= link_to 'Set times manually', '#', :class => 'toggle' %>
  </section>
  <%= render "stats" %>
</div>

<div id="times">
  <div id="chart-container">
    <div id="chart" data-user-id="<%= current_user.id %>" data-user-name="<%= current_user.name %>" data-puzzle-id="<%= @puzzle.id %>" data-puzzle-name="<%= @puzzle.name %> <%= @puzzle.kind.short_name %>" data-url="<%= chart_puzzle_timers_path(@puzzle) %>"></div>
    <%= text_field_tag "user-tokens" %>
  </div>
  <aside id="singles">
    <% if @singles.empty? %>
      <p class="suggestion">
        You haven't solved any cubes in the last 24 hours. :(
      </p>
    <% end %>
    <ol>
      <%= render :partial => "single", :collection => @singles %>
    </ol>
    <section class="load-more">
      <%= link_to @singles.empty? ? "Whatever, load my last 12 solves!" : "Load more", more_puzzle_timers_path(@puzzle, :after => @singles.last.try(:created_at).to_param), :remote => true %>
    </section>
  </aside>
</div>
